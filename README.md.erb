<%
  def without_comments(string)
    stripped = string.lines.reject { |line| line =~ /\s*\/\// }.join
    IO.popen("rustfmt", "w+") do |pipe|
      pipe.puts stripped
      pipe.close_write
      pipe.read.strip
    end
  end
%>
# Draco

> Draco is a Rust library to build client side web applications with Web
> Assembly.

> [Live Examples with Annotated Source](https://draco-examples.netlify.com/) |
> [Starter](https://github.com/utkarshkukreti/draco-starter)

> Note: This is the README for upcoming Draco 0.2.
> The README for the latest released version is
> [here](https://github.com/utkarshkukreti/draco/tree/0.1.2).

## Overview

The "Hello, World!" of Draco ([with comments here](examples/hello_world/src/lib.rs)):

```rust
<%= without_comments(File.read("examples/hello_world/src/lib.rs").strip) %>
```

### Counter

A Counter in Draco ([with comments here](examples/counter/src/lib.rs)):

```rust
<%= without_comments(File.read("examples/counter/src/lib.rs").strip) %>
```
